{"version":3,"sources":["types/lang.ts","containers/errorboundary.tsx","contexts/base.ts","contexts/lang.ts","api/gsheets.ts","hooks/useEffectOnce.ts","utils/currency.ts","containers/products.tsx","utils/readFetch.ts","components/lang.tsx","containers/header.tsx","containers/loader.tsx","containers/facebook.tsx","const/config.ts","App.tsx","hooks/useFetch.ts","index.tsx"],"names":["lang","ErrorBoundary","state","hasError","error","errorInfo","this","props","children","console","log","Component","Base","callback","setState","produce","draft","Container","Lang","ILang","en","data","save","key","defaultValue","hasOwnProperty","DEFAULT_OPTIONS","sheetId","returnAllResults","options","Promise","resolve","reject","GSheets","e","useEffect","peso","number","Intl","NumberFormat","style","currency","format","filterDisabled","disable","Number","trim","a","sort","b","localeCompare","useStyles","makeStyles","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","flexGrow","footer","chip","margin","object","classes","result","sheets","read","maxWidth","className","Grid","container","filter","map","item","id","xs","sm","md","Card","CardMedia","image","image_1","title","image_1_title","CardContent","Typography","gutterBottom","variant","component","name","description","price","CardActions","tags","split","getTags","tag","i","Chip","size","label","to","getText","root","menuButton","AppBar","position","Toolbar","IconButton","edge","color","aria-label","CircularProgress","React","memo","page_id","warn","useEffectOnce","window","fbAsyncInit","FB","init","xfbml","version","custom-attribution","custom-page_id","custom-theme_color","messenger","App","promise","useState","status","setStatus","setResult","suspender","setSuspender","promiseResult","then","res","catch","useFetch","gsheets","fallback","CONFIG","ReactDOM","render","StrictMode","inject","document","getElementById"],"mappings":"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","file":"static/js/main.35b4fc28.chunk.js","sourcesContent":["enum lang {\r\n  en = 'en',\r\n  ph = 'ph',\r\n}\r\n\r\nexport default lang;\r\n","import React, { Component } from 'react';\r\n\r\ninterface IState {\r\n  hasError: boolean;\r\n}\r\n\r\nclass ErrorBoundary extends Component {\r\n  state: IState = {\r\n    hasError: false,\r\n  };\r\n\r\n  static getDerivedStateFromError(error: Error) {\r\n    console.log(error);\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: any, errorInfo: any) {\r\n    // You can also log the error to an error reporting service\r\n    // logErrorToMyService(error, errorInfo);\r\n    // console.error(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // You can render any custom fallback UI\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import { Container } from 'unstated';\r\nimport produce from 'immer';\r\n\r\nexport default class Base extends Container<{}> {\r\n  save(callback: Function) {\r\n    return this.setState(\r\n      produce((draft) => {\r\n        callback(draft);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import Base from './base';\r\nimport ILang from 'types/lang';\r\nimport en from 'lang/en.json';\r\n\r\ninterface LangObject {\r\n  [key: string]: string;\r\n}\r\n\r\ninterface IState {\r\n  lang: ILang;\r\n  data: LangObject;\r\n}\r\n\r\nclass Lang extends Base {\r\n  state: IState = {\r\n    lang: ILang.en,\r\n    data: en,\r\n  };\r\n\r\n  setLang(lang: ILang) {\r\n    this.save((draft: IState) => (draft.lang = lang));\r\n  }\r\n\r\n  getText(key: string, defaultValue: string = '') {\r\n    return this.state.data.hasOwnProperty(key)\r\n      ? this.state.data[key]\r\n      : defaultValue;\r\n  }\r\n}\r\n\r\nexport { Lang };\r\nexport default new Lang();\r\n","import GSheets from 'g-sheets-api';\r\n\r\nconst DEFAULT_OPTIONS = {\r\n  sheetId: '1OUgaAxfeUXsGgyVSjwltjm9MGhjSraxuo61jUgBrN6Q',\r\n  returnAllResults: true,\r\n};\r\n\r\nexport default (options = DEFAULT_OPTIONS) =>\r\n  new Promise((resolve, reject) => {\r\n    try {\r\n      GSheets({ ...DEFAULT_OPTIONS, ...options }, resolve);\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n","import { useEffect } from 'react';\r\n\r\nexport default (callback: React.EffectCallback) => useEffect(callback, []);\r\n","export const peso = (number: number) =>\r\n  new Intl.NumberFormat('fil-PH', {\r\n    style: 'currency',\r\n    currency: 'PHP',\r\n  }).format(number);\r\n\r\nexport default peso;\r\n","import React from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport readFetch from 'utils/readFetch';\r\nimport currency from 'utils/currency';\r\nimport { IList, IItem } from 'types/products';\r\n\r\nconst filterDisabled = ({ disable }: IItem) => Number(disable) === 0;\r\nconst trim = (a: string) => a.trim();\r\nconst sort = (a: string, b: string) => a.localeCompare(b);\r\nconst getTags = ({ tags = '' }: IItem): string[] =>\r\n  tags.split(',').map(trim).sort(sort);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: `${(12 / 16) * 100}%`, // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n\r\n  chip: {\r\n    margin: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nexport default (props: any) => {\r\n  const classes = useStyles();\r\n\r\n  const result: IList = readFetch(props.sheets);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" className=\"p-sm p-4\">\r\n      <Grid container spacing={4}>\r\n        {result.filter(filterDisabled).map((item: IItem) => (\r\n          <Grid item key={item.id} xs={12} sm={6} md={4}>\r\n            <Card className={classes.card}>\r\n              <CardMedia\r\n                className={classes.cardMedia}\r\n                image={item.image_1}\r\n                title={item.image_1_title}\r\n              />\r\n              <CardContent className={classes.cardContent}>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {item.name}\r\n                </Typography>\r\n                <Typography>{item.description}</Typography>\r\n                <Typography>{currency(Number(item.price))}</Typography>\r\n              </CardContent>\r\n              <CardActions>\r\n                {getTags(item).map((tag, i) => (\r\n                  <Chip\r\n                    key={i}\r\n                    size=\"small\"\r\n                    label={tag}\r\n                    variant=\"outlined\"\r\n                    className={classes.chip}\r\n                  />\r\n                ))}\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n","interface IFetch {\r\n  read: Function;\r\n}\r\n\r\nexport default (object: IFetch | undefined) => object && object.read();\r\n","import React from 'react';\r\n\r\nimport { Subscribe } from 'unstated';\r\n\r\nimport { Lang } from 'contexts/lang';\r\n\r\ninterface ILangComponent {\r\n  children: string;\r\n  defaultValue?: string;\r\n}\r\n\r\nexport default ({ children, defaultValue = '' }: ILangComponent) => (\r\n  <Subscribe to={[Lang]}>\r\n    {(lang: Lang) => {\r\n      return lang.getText(children, defaultValue);\r\n    }}\r\n  </Subscribe>\r\n);\r\n","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Lang from 'components/lang';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AppBar position=\"sticky\">\r\n      <Toolbar variant=\"dense\">\r\n        <IconButton\r\n          edge=\"start\"\r\n          className={classes.menuButton}\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n\r\n        <Typography variant=\"h6\" color=\"inherit\">\r\n          <Lang>companyName</Lang>\r\n        </Typography>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default () => (\r\n  <div className=\"absolute top-0 h-full w-full flex justify-center items-center bg-black bg-opacity-50 flex-col\">\r\n    <CircularProgress />\r\n    <Typography variant=\"button\" color=\"inherit\" className=\"pt-4\">\r\n      Loading...\r\n    </Typography>\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport useEffectOnce from 'hooks/useEffectOnce';\r\n\r\ninterface IProps {\r\n  page_id: string | number;\r\n  color: string;\r\n}\r\n\r\nexport default React.memo(({ page_id, color }: IProps) => {\r\n  console.warn('rendered');\r\n  useEffectOnce(() => {\r\n    console.warn('run');\r\n    window.fbAsyncInit = () => {\r\n      console.warn('INITS');\r\n      window.FB.init({\r\n        xfbml: true,\r\n        version: 'v7.0',\r\n      });\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"fb-customerchat\"\r\n      custom-attribution=\"setup_tool\"\r\n      custom-page_id={page_id}\r\n      custom-theme_color={color}\r\n    />\r\n  );\r\n});\r\n","export default {\r\n  fb: {\r\n    messenger: {\r\n      page_id: '402815903188264',\r\n      color: '#e68585',\r\n    },\r\n  },\r\n};\r\n","import React, { Suspense } from 'react';\n\nimport gsheets from 'api/gsheets';\nimport useFetch from 'hooks/useFetch';\nimport Products from 'containers/products';\nimport Header from 'containers/header';\nimport Loader from 'containers/loader';\nimport Facebook from 'containers/facebook';\n\nimport CONFIG from 'const/config';\n\nconst App: React.FC = () => {\n  const sheets = useFetch(gsheets);\n\n  return (\n    <>\n      <Header />\n      <Suspense fallback={<Loader />}>\n        <Products sheets={sheets} />\n      </Suspense>\n      <Facebook\n        page_id={CONFIG.fb.messenger.page_id}\n        color={CONFIG.fb.messenger.color}\n      />\n    </>\n  );\n};\n\nexport default App;\n","import { useState } from 'react';\r\nimport useEffectOnce from 'hooks/useEffectOnce';\r\n\r\nconst LOADING = 'loading';\r\nconst ERROR = 'error';\r\nconst SUCCESS = 'success';\r\n\r\nexport default (promise: any) => {\r\n  const [status, setStatus] = useState<string>(LOADING);\r\n  const [result, setResult] = useState<any>();\r\n  const [suspender, setSuspender] = useState<Promise<any>>(\r\n    new Promise(() => {})\r\n  );\r\n\r\n  useEffectOnce(() => {\r\n    const promiseResult = promise()\r\n      .then((res: any) => {\r\n        setResult(res);\r\n\r\n        setStatus(SUCCESS);\r\n      })\r\n      .catch((e: Error) => {\r\n        setResult(e);\r\n        setStatus(ERROR);\r\n      });\r\n\r\n    setSuspender(promiseResult);\r\n  });\r\n\r\n  return {\r\n    read: () => {\r\n      switch (status) {\r\n        case LOADING:\r\n          throw suspender;\r\n        case ERROR:\r\n          throw result;\r\n        case SUCCESS:\r\n        default:\r\n          return result;\r\n      }\r\n    },\r\n  };\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'unstated';\n\nimport './index.css';\n\nimport ErrorBoundary from './containers/errorboundary';\n\nimport Lang from 'contexts/lang';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <Provider inject={[Lang]}>\n        <App />\n      </Provider>\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}